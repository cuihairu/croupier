{
  "id": "wallet.entity",
  "version": "1.0.0",
  "name": "Wallet Entity",
  "description": "Wallet entity definition for economy system",
  "schema": {
    "type": "object",
    "title": "Wallet",
    "properties": {
      "wallet_id": {
        "type": "string",
        "title": "Wallet ID",
        "readOnly": true
      },
      "player_id": {
        "type": "string",
        "title": "Player ID"
      },
      "currency_id": {
        "type": "string",
        "title": "Currency ID"
      },
      "balance": {
        "type": "string",
        "title": "Balance",
        "pattern": "^[0-9]+\\.?[0-9]*$"
      },
      "locked_balance": {
        "type": "string",
        "title": "Locked Balance",
        "pattern": "^[0-9]+\\.?[0-9]*$",
        "default": "0"
      },
      "last_updated": {
        "type": "string",
        "format": "date-time",
        "title": "Last Updated",
        "readOnly": true
      }
    },
    "required": ["player_id", "currency_id", "balance"]
  },
  "operations": {
    "read": "wallet.get",
    "transfer": "wallet.transfer"
  },
  "relationships": {
    "currency": {
      "type": "many-to-one",
      "entity": "currency",
      "foreign_key": "currency_id"
    },
    "player": {
      "type": "many-to-one",
      "entity": "player",
      "foreign_key": "player_id"
    }
  }
}