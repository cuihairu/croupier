syntax = "v1"

info (
	title: "Croupier API"
	desc:  "go-zero migration of backend APIs"
)

type RegistryAgent {
	AgentId      string `json:"agent_id"`
	GameId       string `json:"game_id"`
	Env          string `json:"env"`
	RpcAddr      string `json:"rpc_addr"`
	Ip           string `json:"ip"`
	Type         string `json:"type"`
	Version      string `json:"version"`
	Functions    int64  `json:"functions"`
	Healthy      bool   `json:"healthy"`
	ExpiresInSec int64  `json:"expires_in_sec"`
}

type RegistryFunction {
	GameId string `json:"game_id"`
	Id     string `json:"id"`
	Agents int64  `json:"agents"`
}

type RegistryFuncCoverage {
	Healthy int64 `json:"healthy"`
	Total   int64 `json:"total"`
}

type RegistryCoverage {
	GameEnv   string                          `json:"game_env"`
	Functions map[string]RegistryFuncCoverage `json:"functions"`
	Uncovered []string                        `json:"uncovered"`
}

type RegistryResponse {
	Agents      []RegistryAgent     `json:"agents"`
	Functions   []RegistryFunction  `json:"functions"`
	Assignments map[string][]string `json:"assignments"`
	Coverage    []RegistryCoverage  `json:"coverage"`
}

type FunctionInstancesRequest {
	GameId     string `form:"game_id,optional"`
	FunctionId string `form:"function_id,optional"`
}

type FunctionInstance {
	AgentId   string `json:"agent_id"`
	ServiceId string `json:"service_id"`
	Addr      string `json:"addr"`
	Version   string `json:"version"`
}

type FunctionInstancesResponse {
	Instances []FunctionInstance `json:"instances"`
}

type AssignmentsQuery {
	GameId string `form:"game_id,optional"`
	Env    string `form:"env,optional"`
}

type AssignmentsResponse {
	Assignments map[string][]string `json:"assignments"`
}

type AssignmentsUpdateRequest {
	GameId    string   `json:"game_id"`
	Env       string   `json:"env"`
	Functions []string `json:"functions"`
}

type AssignmentsUpdateResponse {
	Ok      bool     `json:"ok"`
	Unknown []string `json:"unknown"`
}

type AnalyticsFiltersQuery {
	GameId string `form:"game_id,optional"`
	Env    string `form:"env,optional"`
}

type AnalyticsFiltersResponse {
	Events          []string `json:"events"`
	PaymentsEnabled bool     `json:"payments_enabled"`
	SampleGlobal    int      `json:"sample_global"`
}

type AnalyticsFiltersUpdateRequest {
	GameId          string   `json:"game_id"`
	Env             string   `json:"env"`
	Events          []string `json:"events"`
	PaymentsEnabled *bool    `json:"payments_enabled,optional"`
	SampleGlobal    *int     `json:"sample_global,optional"`
}

type AnalyticsFiltersUpdateResponse {
	Ok bool `json:"ok"`
}

type AnalyticsOverviewQuery {
	GameId string `form:"game_id,optional"`
	Env    string `form:"env,optional"`
	Start  string `form:"start,optional"`
	End    string `form:"end,optional"`
}

type AnalyticsOverviewSeries {
	NewUsers     [][]any `json:"new_users"`
	PeakOnline   [][]any `json:"peak_online"`
	RevenueCents [][]any `json:"revenue_cents"`
}

type AnalyticsOverviewResponse {
	Dau          uint64                 `json:"dau"`
	Wau          uint64                 `json:"wau"`
	Mau          uint64                 `json:"mau"`
	NewUsers     uint64                 `json:"new_users"`
	RevenueCents uint64                 `json:"revenue_cents"`
	PayRate      float64                `json:"pay_rate"`
	Arpu         float64                `json:"arpu"`
	Arppu        float64                `json:"arppu"`
	D1           float64                `json:"d1"`
	D7           float64                `json:"d7"`
	D30          float64                `json:"d30"`
	Series       AnalyticsOverviewSeries `json:"series"`
}

type AnalyticsRealtimeQuery {
	GameId string `form:"game_id,optional"`
	Env    string `form:"env,optional"`
}

type AnalyticsRealtimeResponse {
	Online            uint64  `json:"online"`
	Active1m          uint64  `json:"active_1m"`
	Active5m          uint64  `json:"active_5m"`
	Active15m         uint64  `json:"active_15m"`
	Rev5m             uint64  `json:"rev_5m"`
	RevToday          uint64  `json:"rev_today"`
	Rev5mYuan         string  `json:"rev_5m_yuan"`
	RevTodayYuan      string  `json:"rev_today_yuan"`
	PaySuccRate       float64 `json:"pay_succ_rate"`
	RegisteredTotal   uint64  `json:"registered_total"`
	OnlinePeakToday   uint64  `json:"online_peak_today"`
	OnlinePeakAllTime uint64  `json:"online_peak_all_time"`
	DauToday          uint64  `json:"dau_today"`
	NewToday          uint64  `json:"new_today"`
}

type AnalyticsRealtimeSeriesQuery {
	GameId string `form:"game_id,optional"`
	Env    string `form:"env,optional"`
	Start  string `form:"start"`
	End    string `form:"end"`
}

type AnalyticsRealtimeSeriesResponse {
	Online       [][]any `json:"online"`
	Active5mSum  [][]any `json:"active_5m_sum"`
	Active15mSum [][]any `json:"active_15m_sum"`
	RevenueCents [][]any `json:"revenue_cents"`
}

type AnalyticsBehaviorEventsQuery {
	GameId  string `form:"game_id,optional"`
	Env     string `form:"env,optional"`
	Event   string `form:"event,optional"`
	PropKey string `form:"prop_key,optional"`
	PropVal string `form:"prop_val,optional"`
	Start   string `form:"start,optional"`
	End     string `form:"end,optional"`
	Page    int    `form:"page,optional"`
	Size    int    `form:"size,optional"`
}

type AnalyticsBehaviorEvent {
	Time   string `json:"time"`
	Event  string `json:"event"`
	UserId string `json:"user_id"`
}

type AnalyticsBehaviorEventsResponse {
	Events []AnalyticsBehaviorEvent `json:"events"`
	Total  uint64                   `json:"total"`
}

type AnalyticsBehaviorFunnelQuery {
	GameId      string `form:"game_id,optional"`
	Env         string `form:"env,optional"`
	Steps       string `form:"steps"`
	Start       string `form:"start,optional"`
	End         string `form:"end,optional"`
	Sequential  string `form:"sequential,optional"`
	SameSession string `form:"same_session,optional"`
	GapSec      int    `form:"gap_sec,optional"`
	MaxUsers    int    `form:"max_users,optional"`
}

type AnalyticsBehaviorFunnelStep {
	Step  string  `json:"step"`
	Users uint64  `json:"users"`
	Rate  float64 `json:"rate"`
}

type AnalyticsBehaviorFunnelResponse {
	Steps []AnalyticsBehaviorFunnelStep `json:"steps"`
}

type AnalyticsBehaviorPathsQuery {
	GameId      string `form:"game_id,optional"`
	Env         string `form:"env,optional"`
	Per         string `form:"per,optional"`
	Steps       int    `form:"steps,optional"`
	Limit       int    `form:"limit,optional"`
	Include     string `form:"include,optional"`
	Exclude     string `form:"exclude,optional"`
	SameSession string `form:"same_session,optional"`
	GapSec      int    `form:"gap_sec,optional"`
	MaxGroups   int    `form:"max_groups,optional"`
	PathRe      string `form:"path_re,optional"`
	PathNotRe   string `form:"path_not_re,optional"`
	Start       string `form:"start,optional"`
	End         string `form:"end,optional"`
}

type AnalyticsBehaviorPath {
	Path   string `json:"path"`
	Groups uint64 `json:"groups"`
}

type AnalyticsBehaviorPathsResponse {
	Paths []AnalyticsBehaviorPath `json:"paths"`
}

type AnalyticsBehaviorAdoptionQuery {
	GameId string `form:"game_id,optional"`
	Env    string `form:"env,optional"`
	Per    string `form:"per,optional"`
	Features string `form:"features"`
	Start  string `form:"start,optional"`
	End    string `form:"end,optional"`
}

type AnalyticsBehaviorAdoptionFeature {
	Feature string  `json:"feature"`
	Groups  uint64  `json:"groups"`
	Rate    float64 `json:"rate"`
}

type AnalyticsBehaviorAdoptionResponse {
	Features []AnalyticsBehaviorAdoptionFeature `json:"features"`
	Baseline uint64                             `json:"baseline"`
}

type AnalyticsBehaviorAdoptionBreakdownQuery {
	GameId   string `form:"game_id,optional"`
	Env      string `form:"env,optional"`
	Per      string `form:"per,optional"`
	Features string `form:"features"`
	By       string `form:"by,optional"`
	Start    string `form:"start,optional"`
	End      string `form:"end,optional"`
}

type AnalyticsBehaviorAdoptionBreakdownRow {
	Dim      string  `json:"dim"`
	Baseline uint64  `json:"baseline"`
	Groups   uint64  `json:"groups"`
	Rate     float64 `json:"rate"`
}

type AnalyticsBehaviorAdoptionBreakdownResponse {
	By   string                                   `json:"by"`
	Rows []AnalyticsBehaviorAdoptionBreakdownRow  `json:"rows"`
}

type AnalyticsIngestRequest {
	Events []map[string]interface{} `json:"events"`
}

type AnalyticsPaymentsIngestRequest {
	Events []map[string]interface{} `json:"events"`
}

type MeProfileResponse {
	Profile interface{} `json:"profile"`
}

type MeGamesResponse {
	Games interface{} `json:"games"`
}

type MeProfileUpdateRequest {
	Profile interface{} `json:"profile"`
}

type MePasswordRequest {
	OldPassword string `json:"old_password"`
	NewPassword string `json:"new_password"`
}
type AnalyticsPaymentsSummaryQuery {
	GameId   string `form:"game_id,optional"`
	Env      string `form:"env,optional"`
	Channel  string `form:"channel,optional"`
	Platform string `form:"platform,optional"`
	Country  string `form:"country,optional"`
	Region   string `form:"region,optional"`
	City     string `form:"city,optional"`
	Start    string `form:"start,optional"`
	End      string `form:"end,optional"`
}

type AnalyticsPaymentsSummaryTotals {
	RevenueCents uint64  `json:"revenue_cents"`
	RefundsCents uint64  `json:"refunds_cents"`
	Failed       uint64  `json:"failed"`
	SuccessRate  float64 `json:"success_rate"`
}

type AnalyticsPaymentsSummaryItem {
	Channel      string  `json:"channel,omitempty"`
	Platform     string  `json:"platform,omitempty"`
	Country      string  `json:"country,omitempty"`
	Region       string  `json:"region,omitempty"`
	City         string  `json:"city,omitempty"`
	ProductId    string  `json:"product_id,omitempty"`
	RevenueCents uint64  `json:"revenue_cents"`
	Success      uint64  `json:"success"`
	Total        uint64  `json:"total"`
	SuccessRate  float64 `json:"success_rate"`
}

type AnalyticsPaymentsSummaryResponse {
	Totals     AnalyticsPaymentsSummaryTotals `json:"totals"`
	ByChannel  []AnalyticsPaymentsSummaryItem `json:"by_channel"`
	ByPlatform []AnalyticsPaymentsSummaryItem `json:"by_platform"`
	ByCountry  []AnalyticsPaymentsSummaryItem `json:"by_country"`
	ByRegion   []AnalyticsPaymentsSummaryItem `json:"by_region"`
	ByCity     []AnalyticsPaymentsSummaryItem `json:"by_city"`
	ByProduct  []AnalyticsPaymentsSummaryItem `json:"by_product"`
}

type AnalyticsPaymentsTransactionsQuery {
	GameId   string `form:"game_id,optional"`
	Env      string `form:"env,optional"`
	Channel  string `form:"channel,optional"`
	Platform string `form:"platform,optional"`
	Country  string `form:"country,optional"`
	Region   string `form:"region,optional"`
	City     string `form:"city,optional"`
	Status   string `form:"status,optional"`
	Start    string `form:"start,optional"`
	End      string `form:"end,optional"`
	Page     int    `form:"page,optional"`
	Size     int    `form:"size,optional"`
}

type AnalyticsPaymentsTransaction {
	Time        string `json:"time"`
	OrderId     string `json:"order_id"`
	UserId      string `json:"user_id"`
	AmountCents uint64 `json:"amount_cents"`
	Status      string `json:"status"`
	Channel     string `json:"channel"`
}

type AnalyticsPaymentsTransactionsResponse {
	Transactions []AnalyticsPaymentsTransaction `json:"transactions"`
	Total        uint64                          `json:"total"`
}

type AnalyticsPaymentsProductTrendQuery {
	GameId     string `form:"game_id,optional"`
	Env        string `form:"env,optional"`
	Channel    string `form:"channel,optional"`
	Platform   string `form:"platform,optional"`
	Country    string `form:"country,optional"`
	Region     string `form:"region,optional"`
	City       string `form:"city,optional"`
	ProductId  string `form:"product_id"`
	Granularity string `form:"granularity,optional"`
	Start      string `form:"start"`
	End        string `form:"end"`
}

type AnalyticsPaymentsProductTrendPoint {
	Time        string `json:"time"`
	Success     uint64 `json:"success"`
	Total       uint64 `json:"total"`
	RevenueCents uint64 `json:"revenue_cents"`
}

type AnalyticsPaymentsProductTrend {
	ProductId string                               `json:"product_id"`
	Points    []AnalyticsPaymentsProductTrendPoint `json:"points"`
}

type AnalyticsPaymentsProductTrendResponse {
	Products []AnalyticsPaymentsProductTrend `json:"products"`
}

type AnalyticsLevelsQuery {
	GameId  string `form:"game_id,optional"`
	Env     string `form:"env,optional"`
	Episode string `form:"episode,optional"`
	Start   string `form:"start,optional"`
	End     string `form:"end,optional"`
}

type AnalyticsLevelsFunnelStep {
	Step  string  `json:"step"`
	Users uint64  `json:"users"`
	Rate  float64 `json:"rate"`
}

type AnalyticsLevelsPerLevel {
	Level          string  `json:"level"`
	Players        uint64  `json:"players"`
	WinRate        float64 `json:"win_rate"`
	AvgDurationSec float64 `json:"avg_duration_sec"`
	AvgRetries     float64 `json:"avg_retries"`
	Difficulty     string  `json:"difficulty"`
}

type AnalyticsLevelsSegmentEntry {
	Level   string  `json:"level"`
	Players uint64  `json:"players"`
	WinRate float64 `json:"win_rate"`
}

type AnalyticsLevelsSegments {
	New       []AnalyticsLevelsSegmentEntry `json:"new"`
	Payer     []AnalyticsLevelsSegmentEntry `json:"payer"`
	Returning []AnalyticsLevelsSegmentEntry `json:"returning"`
}

type AnalyticsLevelsResponse {
	Funnel           []AnalyticsLevelsFunnelStep `json:"funnel"`
	PerLevel         []AnalyticsLevelsPerLevel   `json:"per_level"`
	PerLevelSegments AnalyticsLevelsSegments     `json:"per_level_segments"`
}

type AnalyticsLevelsEpisodesQuery {
	GameId string `form:"game_id,optional"`
	Env    string `form:"env,optional"`
	Start  string `form:"start,optional"`
	End    string `form:"end,optional"`
}

type AnalyticsLevelsEpisode {
	Episode  string                     `json:"episode"`
	PerLevel []AnalyticsLevelsPerLevelSummary `json:"per_level"`
}

type AnalyticsLevelsPerLevelSummary {
	Level   string  `json:"level"`
	Players uint64  `json:"players"`
	WinRate float64 `json:"win_rate"`
}

type AnalyticsLevelsEpisodesResponse {
	Episodes []AnalyticsLevelsEpisode `json:"episodes"`
}

type AnalyticsLevelsMapsResponse {
	Maps []AnalyticsLevelsMap `json:"maps"`
}

type AnalyticsRetentionQuery {
	GameId string `form:"game_id,optional"`
	Env    string `form:"env,optional"`
	Cohort string `form:"cohort,optional"`
	Start  string `form:"start,optional"`
	End    string `form:"end,optional"`
}

type AnalyticsRetentionCohort {
	Day string  `json:"day"`
	D1  float64 `json:"d1"`
	D7  float64 `json:"d7"`
	D30 float64 `json:"d30"`
}

type AnalyticsRetentionResponse {
	Cohorts []AnalyticsRetentionCohort `json:"cohorts"`
}

type AnalyticsLevelsMap {
	Map      string                             `json:"map"`
	PerLevel []AnalyticsLevelsPerLevelSummary   `json:"per_level"`
}

type OpsService {
	AgentId       string            `json:"agent_id"`
	GameId        string            `json:"game_id"`
	Env           string            `json:"env"`
	RpcAddr       string            `json:"rpc_addr"`
	Ip            string            `json:"ip"`
	Region        string            `json:"region"`
	Zone          string            `json:"zone"`
	Labels        map[string]string `json:"labels"`
	Type          string            `json:"type"`
	Version       string            `json:"version"`
	Functions     int               `json:"functions"`
	Healthy       bool              `json:"healthy"`
	ExpiresInSec  int               `json:"expires_in_sec"`
	ActiveConns   int64             `json:"active_conns"`
	TotalRequests int64             `json:"total_requests"`
	FailedRequests int64            `json:"failed_requests"`
	ErrorRate     float64           `json:"error_rate"`
	AvgLatencyMs  int64             `json:"avg_latency_ms"`
	LastSeen      string            `json:"last_seen"`
	Qps1m         float64           `json:"qps_1m"`
	QpsLimit      int               `json:"qps_limit"`
}

type OpsServicesResponse {
	Services []OpsService `json:"services"`
}

type OpsAgentMetaUpdateRequest {
	Id     string            `path:"id"`
	Region string            `json:"region,optional"`
	Zone   string            `json:"zone,optional"`
	Labels map[string]string `json:"labels,optional"`
}

type AgentMetaReportRequest {
	AgentId string            `json:"agent_id"`
	Region  string            `json:"region,optional"`
	Zone    string            `json:"zone,optional"`
	Labels  map[string]string `json:"labels,optional"`
}

type GenericOkResponse {
	Ok bool `json:"ok"`
}

type HealthCheck {
	Id          string `json:"id"`
	Kind        string `json:"kind"`
	Target      string `json:"target"`
	Expect      string `json:"expect,optional"`
	IntervalSec int    `json:"interval_sec,optional"`
	TimeoutMs   int    `json:"timeout_ms,optional"`
	Region      string `json:"region,optional"`
}

type HealthStatus {
	Id        string `json:"id"`
	Ok        bool   `json:"ok"`
	LatencyMs int64  `json:"latency_ms"`
	Error     string `json:"error,optional"`
	CheckedAt string `json:"checked_at"`
}

type OpsHealthResponse {
	Checks []HealthCheck `json:"checks"`
	Status []HealthStatus `json:"status"`
}

type OpsHealthUpdateRequest {
	Checks []HealthCheck `json:"checks"`
}

type OpsHealthRunRequest {
	Id string `form:"id,optional"`
}

type BackupEntry {
	Id        string `json:"id"`
	Kind      string `json:"kind"`
	Target    string `json:"target,optional"`
	Path      string `json:"path"`
	Size      int64  `json:"size"`
	Status    string `json:"status"`
	Error     string `json:"error,optional"`
	CreatedAt string `json:"created_at"`
}

type OpsBackupsResponse {
	Backups []BackupEntry `json:"backups"`
}

type OpsBackupCreateRequest {
	Kind   string `json:"kind"`
	Target string `json:"target,optional"`
}

type OpsBackupCreateResponse {
	Id string `json:"id"`
}

type OpsNotificationChannel {
	Id       string `json:"id"`
	Type     string `json:"type"`
	Url      string `json:"url"`
	Secret   string `json:"secret,optional"`
	Provider string `json:"provider,optional"`
	Account  string `json:"account,optional"`
	From     string `json:"from,optional"`
	To       string `json:"to,optional"`
}

type OpsNotificationRule {
	Event         string   `json:"event"`
	Channels      []string `json:"channels"`
	ThresholdDays int      `json:"threshold_days,optional"`
}

type OpsNotificationsResponse {
	Channels []OpsNotificationChannel `json:"channels"`
	Rules    []OpsNotificationRule    `json:"rules"`
}

type OpsNotificationsUpdateRequest {
	Channels []OpsNotificationChannel `json:"channels"`
	Rules    []OpsNotificationRule    `json:"rules"`
}

type OpsNode {
	Id           string            `json:"id"`
	Type         string            `json:"type"`
	GameId       string            `json:"game_id,optional"`
	Env          string            `json:"env,optional"`
	Addr         string            `json:"addr"`
	HttpAddr     string            `json:"http_addr,optional"`
	Ip           string            `json:"ip"`
	Version      string            `json:"version"`
	Region       string            `json:"region,optional"`
	Zone         string            `json:"zone,optional"`
	Healthy      bool              `json:"healthy"`
	ExpiresInSec int               `json:"expires_in_sec,optional"`
	LastSeen     string            `json:"last_seen,optional"`
	Draining     bool              `json:"draining"`
	Labels       map[string]string `json:"labels,optional"`
}

type OpsNodesResponse {
	Nodes []OpsNode `json:"nodes"`
}

type OpsNodeActionRequest {
	Id string `path:"id"`
}

type OpsNodeMetaRequest {
	Type     string `json:"type"`
	Id       string `json:"id"`
	Addr     string `json:"addr"`
	HttpAddr string `json:"http_addr,optional"`
	Version  string `json:"version,optional"`
	Region   string `json:"region,optional"`
	Zone     string `json:"zone,optional"`
}

type OpsNodeCommandsQuery {
	NodeId string `form:"node_id"`
}

type OpsNodeCommandsResponse {
	Commands []string `json:"commands"`
}

type OpsMaintenanceWindow {
	Id          string `json:"id"`
	GameId      string `json:"game_id,optional"`
	Env         string `json:"env,optional"`
	Start       string `json:"start"`
	End         string `json:"end"`
	Message     string `json:"message,optional"`
	BlockWrites bool   `json:"block_writes,optional"`
}

type OpsMaintenanceResponse {
	Windows []OpsMaintenanceWindow `json:"windows"`
}

type OpsMaintenanceUpdateRequest {
	Windows []OpsMaintenanceWindow `json:"windows"`
}

type OpsStatusResponse {
	Maintenance []OpsMaintenanceWindow `json:"maintenance"`
}

type OpsJobsQuery {
	Status     string `form:"status,optional"`
	FunctionId string `form:"function_id,optional"`
	Actor      string `form:"actor,optional"`
	GameId     string `form:"game_id,optional"`
	Env        string `form:"env,optional"`
	Page       int    `form:"page,optional"`
	Size       int    `form:"size,optional"`
}

type OpsJob {
	Id         string `json:"id"`
	FunctionId string `json:"function_id"`
	Actor      string `json:"actor"`
	GameId     string `json:"game_id"`
	Env        string `json:"env"`
	State      string `json:"state"`
	StartedAt  string `json:"started_at"`
	EndedAt    string `json:"ended_at"`
	DurationMs int64  `json:"duration_ms"`
	Error      string `json:"error"`
	RpcAddr    string `json:"rpc_addr"`
	TraceId    string `json:"trace_id"`
}

type OpsJobsResponse {
	Jobs []OpsJob `json:"jobs"`
	Total int     `json:"total"`
	Page  int     `json:"page"`
	Size  int     `json:"size"`
}

type OpsAlert {
	Labels      map[string]string `json:"labels"`
	Annotations map[string]string `json:"annotations"`
	Severity    string            `json:"severity"`
	Instance    string            `json:"instance"`
	Service     string            `json:"service"`
	Summary     string            `json:"summary"`
	StartsAt    string            `json:"starts_at"`
	EndsAt      string            `json:"ends_at"`
	Silenced    bool              `json:"silenced"`
	Duration    string            `json:"duration"`
}

type OpsAlertsResponse {
	Alerts []OpsAlert `json:"alerts"`
}

type OpsAlertSilenceRequest {
	Matchers map[string]string `json:"matchers"`
	Duration string            `json:"duration,optional"`
	Creator  string            `json:"creator,optional"`
	Comment  string            `json:"comment,optional"`
}

type OpsAlertSilenceDeleteRequest {
	Id string `path:"id"`
}

type OpsSilenceMatcher {
	Name    string `json:"name"`
	Value   string `json:"value"`
	IsRegex bool   `json:"is_regex"`
}

type OpsSilence {
	Id        string              `json:"id"`
	Matchers  []OpsSilenceMatcher `json:"matchers"`
	CreatedBy string              `json:"created_by"`
	Comment   string              `json:"comment"`
	StartsAt  string              `json:"starts_at"`
	EndsAt    string              `json:"ends_at"`
	Status    map[string]string   `json:"status"`
}

type OpsSilencesResponse {
	Silences []OpsSilence `json:"silences"`
}

type OpsHealthResponse {
	Checks []HealthCheck `json:"checks"`
	Status []HealthStatus `json:"status"`
}

type OpsHealthUpdateRequest {
	Checks []HealthCheck `json:"checks"`
}

type OpsHealthRunRequest {
	Id string `form:"id,optional"`
}

type FunctionsQuery {
	GameId   string `form:"game_id,optional"`
	Env      string `form:"env,optional"`
	AgentId  string `form:"agent_id,optional"`
	Category string `form:"category,optional"`
	Enabled  string `form:"enabled,optional"`
}

type FunctionRecord {
	Id         string `json:"id"`
	Enabled    bool   `json:"enabled"`
	Source     string `json:"source"`
	SourceId   string `json:"source_id"`
	AgentId    string `json:"agent_id,optional"`
	ProviderId string `json:"provider_id,optional"`
	GameId     string `json:"game_id,optional"`
	Env        string `json:"env,optional"`
	RpcAddr    string `json:"rpc_addr,optional"`
	Version    string `json:"version,optional"`
	Category   string `json:"category,optional"`
	Risk       string `json:"risk,optional"`
	UpdatedAt  string `json:"updated_at,optional"`
	LastSeen   string `json:"last_seen,optional"`
}

type FunctionsListResponse {
	Functions []FunctionRecord `json:"functions"`
	Total     int64            `json:"total"`
}

type FunctionDetail {
	Id       string `json:"id"`
	Version  string `json:"version,optional"`
	Category string `json:"category,optional"`
	Risk     string `json:"risk,optional"`
	Source   string `json:"source"`
}

type FunctionAgentInfo {
	AgentId  string `json:"agent_id"`
	GameId   string `json:"game_id"`
	Env      string `json:"env"`
	RpcAddr  string `json:"rpc_addr"`
	Version  string `json:"version"`
	Enabled  bool   `json:"enabled"`
	LastSeen string `json:"last_seen"`
}

type FunctionProviderInfo {
	ProviderId string `json:"provider_id"`
	Version    string `json:"version,optional"`
	Category   string `json:"category,optional"`
	Risk       string `json:"risk,optional"`
	UpdatedAt  string `json:"updated_at,optional"`
}

type FunctionDetailRequest {
	Id string `path:"id"`
}

type FunctionDetailResponse {
	Function  *FunctionDetail        `json:"function"`
	Agents    []FunctionAgentInfo    `json:"agents"`
	Providers []FunctionProviderInfo `json:"providers"`
}

type ComponentsQuery {
	Category string `form:"category,optional"`
}

type ComponentsListResponse {
	Components interface{} `json:"components"`
}

type ComponentUploadResponse {
	Ok bool `json:"ok"`
}

type ComponentActionRequest {
	Id string `path:"id"`
}

type ComponentDetailRequest {
	Id string `path:"id"`
}

type ComponentFunctionInfo {
	Id          string `json:"id"`
	Version     string `json:"version"`
	Enabled     bool   `json:"enabled"`
	Description string `json:"description"`
	Registered  bool   `json:"registered"`
	AgentsCount int64  `json:"agents_count"`
}

type ComponentDetailResponse {
	Id           string                  `json:"id"`
	Name         string                  `json:"name"`
	Version      string                  `json:"version"`
	Description  string                  `json:"description"`
	Category     string                  `json:"category"`
	Author       string                  `json:"author"`
	License      string                  `json:"license"`
	Dependencies []string                `json:"dependencies"`
	Functions    []ComponentFunctionInfo `json:"functions"`
	Files        map[string]int          `json:"files"`
	SizeBytes    int64                   `json:"size_bytes"`
	Enabled      bool                    `json:"enabled"`
}

type ComponentPatchRequest {
	Id        string                            `path:"id"`
	Enabled   *bool                             `json:"enabled,optional"`
	Functions map[string]map[string]interface{} `json:"functions,optional"`
}

type ComponentPatchResponse {
	Ok      bool     `json:"ok"`
	Updated []string `json:"updated"`
}

type ProvidersListResponse {
	Providers []ProviderInfo `json:"providers"`
	Total     int64          `json:"total"`
}

type ProviderInfo {
	Id             string      `json:"id"`
	Version        string      `json:"version"`
	Lang           string      `json:"lang"`
	Sdk            string      `json:"sdk"`
	UpdatedAt      string      `json:"updated_at"`
	FunctionsCount int64       `json:"functions_count"`
	EntitiesCount  int64       `json:"entities_count"`
	Manifest       interface{} `json:"manifest,optional"`
	Functions      interface{} `json:"functions,optional"`
	Entities       interface{} `json:"entities,optional"`
	Operations     interface{} `json:"operations,optional"`
}

type ProviderDetailRequest {
	Id string `path:"id"`
}

type ProviderActionRequest {
	Id string `path:"id"`
}

type ProviderDeleteResponse {
	Ok         bool   `json:"ok"`
	Message    string `json:"message"`
	ProviderId string `json:"provider_id"`
	Note       string `json:"note"`
}

type ProviderReloadResponse {
	Ok         bool   `json:"ok"`
	Message    string `json:"message"`
	ProviderId string `json:"provider_id"`
	Note       string `json:"note"`
}

}
